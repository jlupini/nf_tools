/** * @fileoverview The script tests the functionality of the BE.layer object. * NOTE: It is assumed both TB and BE have been sourced. See * beforeeffects_tests.jsx to customize the overall BE test. * @author <a href="mailto:collin.brooks@gmail.com">Collin Brooks</a> * @version 0.1.0 dev */TB.module('BE.layer');BE.require('BE.layer');TB.test('BE.layer properties', function () {    TB.hasProperty(BE, "layer", "layer is a property of BE");    TB.hasProperty(BE.layer, "addMarker", "BE.layer.addMarker is a property of BE.layer");    TB.hasProperty(BE.layer, "deleteMarker", "BE.layer.deleteMarker is a property of BE.layer");    TB.hasProperty(BE.layer, "findMarkerIndex", "BE.layer.findMarkerIndex is a property of BE.layer");    TB.hasProperty(BE.layer, "getMarkerTime", "BE.layer.getMarkerTime is a property of BE.layer");    TB.hasProperty(BE.layer, "getLayerInPoint", "BE.layer.getLayerInPoint is a property of BE.layer");    TB.hasProperty(BE.layer, "getLayerOutPoint", "BE.layer.getLayerOutPoint is a property of BE.layer");});TB.test('BE.layer methods', function () {    $.bp();    testConfig.layer.init();    var c = testConfig.comp.theComp,        l = testConfig.testLayers["Solid 1"];    BE.equal(BE.layer.findMarkerIndex(l, "Marker 1"), 0, "The marker with the name 'Marker 1' should be at index 0.");    BE.equal(BE.layer.findMarkerIndex(l, "Marker 2"), 1, "The marker with the name 'Marker 2' should be at index 1.");    BE.equal(BE.layer.getMarkerTime(l, 0), 1, "The marker at index 0 should be at 1 seconds");    BE.equal(BE.layer.getMarkerTime(l, 1), 2, "The marker at index 0 should be at 2 seconds");    //Add a marker to the layer.    BE.layer.addMarker(l, 3, "New marker!");    TB.equal(BE.layer.findMarkerIndex(l, "New Marker!"), 2, "The marker with the message 'New Marker!' should have an index of 2");    TB.equal(BE.layer.getMarkerTime(l, 2), 3, "The marker at index 2 should be at 3 seconds.");    //Delete the markers from the first layer.    BE.layer.deleteMarker(l, 0);    BE.layer.deleteMarker(l, 1);    BE.layer.deleteMarker(l, 2);    TB.equal(l.property("Marker").numKeys, 0, "The Solid 1 layer should not have anymore markers.");    testConfig.layer.clean();});